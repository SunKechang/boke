---
title: "Goland在离线环境下如何识别依赖并进行提示"
date: 2023-03-09
categories: ['Thought']
draft: false
---

由于工作原因，需要在内网下开发，而我对于Golang又是那么喜欢，所以我坚持用Golang继续我的开发之路。

可是第一个问题就是如何在离线环境下引入依赖。

## go mod vender

  这是官方提供的一种方式，即在联网环境中创建一个项目文件夹，然后在mod文件中写入所需要的依赖，然后使用`go mod vender`命令来将所有依赖项全部打包进vender文件夹内，然后将整个项目文件夹复制到内网环境中，就可以运行这一项目了。

  但是这样，Goland打开项目的时候，里面的依赖全都报红，也就是说Goland没识别到这些依赖，所以这一方式并不适合在内网环境下开发，而只适合在内网环境下运行。

## go get -d xxx

  还有一种方式：
  
  1、先在一个联网电脑中将依赖都通过命令`go get -d xxx`下载，这里加`-d`是只下载，不编译，有利于将所有文件都保留下来。然后将`C:\用户\用户名\go\pkg\mod\cache\download`这一文件夹打个压缩包，复制到内网电脑上,假设复制到了`C:\go\download`文件夹下；
  2、再去设置内网电脑go的代理：`go env -w GOPROXY=file:///C:/go/download`；
  3、在需要依赖的项目下可以直接用`go get xxx`安装依赖即可。

OK，以上对于Goland离线编辑时无法识别依赖的初步思考，这也不一定是唯一方法，如果你有别的方法，可以来邮交流~1437821834@qq.com