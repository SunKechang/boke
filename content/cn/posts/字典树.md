---
title: "å­—å…¸æ ‘/å‰ç¼€æ ‘"
date: 2022-10-10
categories: ['Algorithm']
draft: true
---

## å¼•è¨€

å¬è¯´è¿‡å­—å…¸æ ‘å—ï¼Ÿæ²¡å¬è¯´è¿‡ä½ å¯èƒ½è§‰å¾—æŒºé«˜å¤§ä¸Šï¼Œä½†æ˜¯ç…§ç€æŠ„ä¸€éå°±è§‰ç€ä¸è¿‡å¦‚æ­¤äº†ã€‚

å­—å…¸æ ‘ä¸€èˆ¬ç”¨äºæŸäº›æƒ³ç¼©çŸ­å­—ç¬¦ä¸²é•¿åº¦çš„æƒ…å†µï¼Œæ¯”å¦‚ç»™ä½ ä¸€ç»„å­—ç¬¦ä¸²æ•°ç»„ï¼Œç»™æ¯ä¸ªå­—ç¬¦ä¸²æ‰¾åˆ°ä¸‰ä¸ªå­—ç¬¦æ¥å”¯ä¸€æ ‡è¯†è¯¥å­—ç¬¦ä¸²ã€‚å…ˆè®©è¿™ä¸ªé—®é¢˜åœ¨é£ä¸­é£˜è¡ä¸€ä¼šï¼Œæ¥çœ‹çœ‹å­—å…¸æ ‘æ˜¯ä¸ªä»€ä¹ˆé¬¼ã€‚ğŸ˜®

## å­—å…¸æ ‘å®šä¹‰
å­—å…¸æ ‘å°±æ˜¯ä¸ªğŸŒ²ç»“æ„ï¼Œåªä¸è¿‡ä»–çš„å­èŠ‚ç‚¹ä»£è¡¨äº†åœ¨ä»–ä¹‹åä¼šå‡ºç°çš„å­—ç¬¦ã€‚æˆ‘ä»¬è¦åšçš„å°±æ˜¯æŠŠä¸€ä¸ªä¸ªå­—ç¬¦ä¸²åŠ å…¥åˆ°å­—å…¸æ ‘ä¸­ï¼Œè®©è¿™æ£µæ ‘å¸®æˆ‘ä»¬å­˜å‚¨æ‰€æœ‰å­—ç¬¦ä¸²ã€‚ä¸¾ä¸ªğŸŒ°ï¼ŒæŠŠå­—ç¬¦ä¸²abå’ŒaabåŠ å…¥åˆ°å­—å…¸æ ‘ä¸­ï¼Œåˆ™å­—å…¸æ ‘çš„ç»“æ„å¦‚ä¸‹ï¼š
![image](../../../static/images/å­—å…¸æ ‘01.png)



å–ï¼Œé€šè¿‡æ©™è‰²è·¯å¾„æˆ‘ä»¬å¯ä»¥å¾—åˆ°abï¼Œé€šè¿‡ç»¿è‰²è·¯å¾„æˆ‘ä»¬å¯ä»¥å¾—åˆ°aabã€‚æœ‰æ²¡æœ‰å‘ç°ï¼Œä»–ä»¬éƒ½åœåœ¨äº†isEnd=trueçš„èŠ‚ç‚¹ä¸Šã€‚ğŸ˜²

å…¶å®è¿™é‡Œçš„isEndè¡¨ç¤ºçš„æ˜¯å¦å­˜åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²ä»¥è¯¥ç‚¹ä¸ºç»“æŸç‚¹ï¼Œnextæ•°ç»„åˆ™æŒ‡å‘é‚£äº›ä»¥æ ¹èŠ‚ç‚¹åˆ°è¯¥èŠ‚ç‚¹çš„è·¯å¾„ä¸ºå‰ç¼€ï¼Œä¹‹åè¿˜å­˜åœ¨å…¶ä»–å­—ç¬¦çš„æƒ…å†µã€‚ï¼ˆæ ¹èŠ‚ç‚¹å‘æ¥ä¸å­˜å‚¨ä¸œè¥¿ï¼Œåªæ˜¯ä¸€ä¸ªç©ºèŠ‚ç‚¹ï¼‰

## å®ä¾‹è¯¦è§£

å¥½äº†ï¼Œæ¥çœ‹çœ‹æ–‡ç« å¼€å§‹é‚£ä¸ªè¿˜åœ¨é£ä¸­ğŸªé£˜è¡çš„é—®é¢˜ã€‚

ç»™å®šä¸€ç»„å­—ç¬¦ä¸²ï¼Œä¸ºæ¯ä¸ªå­—ç¬¦ä¸²æ‰¾åˆ°ä¸‰ä¸ªå­—ç¬¦ç®€å†™ï¼Œä½¿å¾—è¯¥ç®€å†™å¯ä»¥å”¯ä¸€æ ‡è¯†è¯¥å­—ç¬¦ä¸²ã€‚å¦‚æœæ¯ä¸ªå­—ç¬¦ä¸²éƒ½å­˜åœ¨ä¸€ä¸ªç®€å†™åˆ™è¿”å›1ï¼Œå¦åˆ™è¿”å›0ã€‚

æ³¨ï¼šå­—ç¬¦ä¸²ä»…ç”±å¤§å†™è‹±æ–‡å­—æ¯ç»„æˆã€‚ä¸”æ¯ä¸ªå­—ç¬¦ä¸²é•¿åº¦æœ€å°ä¸º3ã€‚

ç¤ºä¾‹1ï¼š
> è¾“å…¥ï¼šNEWYORK,NEWZEALAND,NEWZOO
> 
> è¾“å‡ºï¼š1
> 
> è§£é‡Šï¼šä¸‰ä¸ªå­—ç¬¦ä¸²å¯åˆ†åˆ«ç”¨NEYï¼ŒNEZï¼ŒNEOè¡¨ç¤ºã€‚å› æ­¤èƒ½å¤Ÿä¸ºæ¯ä¸ªå­—ç¬¦ä¸²æ‰¾åˆ°ä¸€ä¸ªç®€å†™ã€‚

å‚è€ƒä»£ç ï¼š

```Go
package main

import (
	"bufio"
	"fmt"
	"os"
	"strings"
)

//éš¾åœ¨æ„å»ºtreeçš„insertå‡½æ•°ä¸Šï¼Œåªè¦è®°ä½ä¹Ÿå°±æ²¡é—®é¢˜äº†
//treeä¸­å‚æ•°åº”è¯¥cntè¿˜æ˜¯isEndï¼Œè§†æƒ…å†µè€Œå®š
//æœ‰å¯èƒ½å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦ä¸åªå±€é™äºå°å†™å­—æ¯ï¼Œé‚£å¯ä»¥ç”¨map

type Trie struct {
	cnt  int
	next map[uint8]*Trie
}

func InitTrie() *Trie {
	return &Trie{
		cnt:  1,
		next: make(map[uint8]*Trie, 0),
	}
}

func (t *Trie) Insert(word string) {
	peer := t
	for i := 0; i < len(word); i++ {
		temp := word[i] - 'A'
		if peer.next[temp] == nil { //å¦‚æœè¦æ‰¾çš„èŠ‚ç‚¹ä¸ºç©ºï¼Œåˆ™åˆ›å»ºä¸€ä¸ª
			peer.next[temp] = InitTrie()
		} else {    //å¦åˆ™ç›´æ¥åœ¨åŸæ¥åŸºç¡€ä¸ŠåŠ ä¸€
			peer.next[temp].cnt++
		}
		peer = peer.next[temp]  //æŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹
	}
}

func (t *Trie) Search(word string) bool {
	peer := t
	for i := 0; i < len(word); i++ {
		temp := word[i] - 'A'
		if peer.next[temp].cnt == 1 {
			return true
		}
		peer = peer.next[temp]
	}
	return false
}

func main() {
	reader := bufio.NewReader(os.Stdin)
	str, _ := reader.ReadString('\n')
	str = strings.ReplaceAll(str, "\t", "")
	str = strings.ReplaceAll(str, "\r", "")
	str = strings.ReplaceAll(str, "\n", "")
	temps := strings.Split(str, ",")
    //1
	tree := InitTrie()
	for _, word := range temps {
		tree.Insert(word)
	}
    //2
	for _, word := range temps {
		if !tree.Search(word) {
			fmt.Println(0)
			return
		}
	}
	fmt.Println(1)
}
```

å“å‘€ğŸ¥¶ï¼Œä¸€ä¸å°å¿ƒæŠŠä»£ç å…¨è´´ä¸Šæ¥äº†ï¼Œæ¥æ‹†å¼€çœ‹çœ‹ğŸ¥¢

æˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªç»“æ„ä½“å«Trieï¼Œä»–é‡Œé¢æœ‰ä¸€ä¸ªcntï¼Œæœ‰ä¸€ä¸ªnextæ•°ç»„ã€‚

- nextæ•°ç»„ï¼Œæ²¡è¯´çš„ï¼Œå°±æ˜¯å‰é¢å­—å…¸æ ‘å®šä¹‰æ—¶å€™æåˆ°çš„é‚£ä¸ªå®¶ä¼™ã€‚è¿™é‡Œç”±äºé¢˜ç›®è¯´æ˜å­—ç¬¦ä¸²ä¸­åªæœ‰26ä¸ªå¤§å†™å­—æ¯ï¼Œæ‰€ä»¥æˆ‘ä»¬è§„å®šnextæ•°ç»„æ˜¯ä¸€ä¸ªé•¿åº¦ä¸º26çš„èŠ‚ç‚¹æ•°ç»„ï¼Œå…¶ä¸­next[0]è¡¨ç¤ºä¸‹ä¸€ä¸ªèŠ‚ç‚¹ä¸ºAï¼Œnext[25]åˆ™è¡¨ç¤ºä¸‹ä¸€ä¸ªèŠ‚ç‚¹ä¸ºZã€‚

- cntï¼Œæ˜¯è¯´åœ¨åŠ å…¥æ ‘çš„å­—ç¬¦ä¸²ä¸­ï¼Œä»¥ä»æ ¹èŠ‚ç‚¹åˆ°å½“å‰èŠ‚ç‚¹çš„è·¯å¾„ä¸ºå‰ç¼€çš„å­—ç¬¦ä¸²çš„ä¸ªæ•°ã€‚

è¿™ä¸ªç»“æ„ä½“è¿˜æœ‰ä¸¤ä¸ªå‡½æ•°ã€‚
- Insertå‡½æ•°ï¼Œå®ƒä¼šå°†ä¸€ä¸ªå­—ç¬¦ä¸²åŠ å…¥åˆ°å­—å…¸æ ‘ã€‚å…·ä½“åšæ³•æ˜¯ï¼šä»¥æ ¹èŠ‚ç‚¹ä¸ºå½“å‰èŠ‚ç‚¹ï¼Œä»å¤´éå†å­—ç¬¦ä¸²çš„æ¯ä¸€ä¸ªå­—ç¬¦ï¼ŒæŸ¥çœ‹å½“å‰èŠ‚ç‚¹çš„nextæ•°ç»„ä¸­æ˜¯å¦å­˜åœ¨è¯¥å­—ç¬¦ï¼Œä¸å­˜åœ¨åˆ™æ–°å»ºä¸€ä¸ªèŠ‚ç‚¹ï¼Œå°†å…¶èµ‹å€¼ç»™nextæ•°ç»„çš„å¯¹åº”ä½ç½®ï¼Œå­˜åœ¨åˆ™ç›´æ¥å°†è¿™ä¸€èŠ‚ç‚¹çš„cntå€¼+1ã€‚

Searchå‡½æ•°ï¼ŒæŒ‰ä¸‹ä¸è¡¨ï¼Œå’±ä»¬å…ˆæ¥çœ‹çœ‹æ€ä¹ˆåº”ç”¨è¿™ä¸ªå»ºå¥½çš„å­—å…¸æ ‘ã€‚ç›®å‰æˆ‘ä»¬å·²ç»èµ°åˆ°äº†mainå‡½æ•°çš„2å·ç‚¹ä½ç½®ï¼Œå·²ç»å°†æ‰€æœ‰å­—ç¬¦ä¸²åŠ åˆ°å­—å…¸æ ‘é‡Œé¢äº†ã€‚é‚£ä¹ˆæƒ³è¦ç¡®å®šæ˜¯ä¸æ˜¯æ¯ä¸ªå­—ç¬¦ä¸²éƒ½å­˜åœ¨ä¸€ä¸ªç®€ç§°ï¼Œå¯ä»¥å”¯ä¸€æ ‡è¯†ä»–è‡ªå·±ï¼Œ**å…¶å®å°±æ˜¯éå†å®ƒåœ¨å­—å…¸æ ‘ä¸­çš„èŠ‚ç‚¹ï¼Œçœ‹çœ‹å“ªä¸€ä¸ªèŠ‚ç‚¹çš„cnt=1ï¼Œè¿™æ—¶å€™åªè¦æŠŠè¿™ä¸ªèŠ‚ç‚¹å’Œä»–å‰ç¼€çš„ä¸€éƒ¨åˆ†ç»„æˆä¸€ä¸ªç®€ç§°ï¼Œå°±å¯ä»¥å”¯ä¸€æ ‡è¯†ä»–è‡ªå·±ã€‚**

ç»†ç»†å“æ¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥è®©Searchå‡½æ•°å®ç°è¿™ä¸€ä¸ªå¯»æ‰¾cnt=1çš„åŠŸèƒ½ã€‚å…·ä½“æ¥è¯´ï¼Œå°±æ˜¯æŒ‰ç…§Insertå‡½æ•°çš„é¡ºåºä»å¤´éå†å­—ç¬¦ä¸²çš„æ¯ä¸ªå­—ç¬¦ï¼Œå½“æŸ¥æ‰¾åˆ°æŸä¸ªèŠ‚ç‚¹â€”â€”è¯¥èŠ‚ç‚¹çš„cntä¸º1ï¼Œå³ä»¥ä»æ ¹èŠ‚ç‚¹åˆ°è¯¥èŠ‚ç‚¹çš„è·¯å¾„ä¸ºå‰ç¼€çš„å­—ç¬¦ä¸²åªæœ‰ä¸€ä¸ªï¼Œä¸”å°±æ˜¯å½“å‰è¿™ä¸ªå­—ç¬¦ä¸²â€”â€”è¿™ä¸ªæ—¶å€™ï¼Œå°±ä¸€å®šå­˜åœ¨ä¸€ä¸ªç®€ç§°æ¥å”¯ä¸€æ ‡è¯†è¯¥å­—ç¬¦ä¸²ã€‚å¦‚NEWYORKï¼Œå½“æŸ¥æ‰¾åˆ°YèŠ‚ç‚¹çš„æ—¶å€™ï¼Œå®ƒçš„cntå°±æ˜¯1ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ç”¨NEYã€NWYã€EWYå…¶ä¸­çš„ä¸€ä¸ªæ¥æ ‡è¯†å®ƒï¼Œæ€»ä¹‹åªè¦å¸¦ä¸ŠYå°±ä¸€å®šèƒ½å”¯ä¸€æ ‡è¯†å®ƒã€‚

okayäº†ï¼Œæææƒš11 o'clockğŸ•šäº†ã€‚